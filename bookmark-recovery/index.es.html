<!DOCTYPE html>
<!--
MIT License

Copyright (c) 2016 Loo Rong Jie (Rong Jie Loo)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

Special thanks to David King, Hennie Rozengarden, Jeroen Van Antwerpen,
Cor Koomen and other TC/RS Chromies in refining this tool.
-->
<html lang="es">
<head>
<title>Herramienta de recuperación de marcadores de Chrome</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,minimum-scale=1.0">
<meta name="description" content="Herramienta para recuperar tus marcadores de Chrome perdidos">
<link rel="alternate" hreflang="en" href="https://rongjiecomputer.github.io/chrome/bookmark-recovery/">
<link rel="alternate" hreflang="es" href="https://rongjiecomputer.github.io/chrome/bookmark-recovery/index.es.html">
<meta property="og:type" content="website">
<meta property="og:title" content="Herramienta de recuperación de marcadores de Chrome">
<meta property="og:url" content="https://rongjiecomputer.github.io/chrome/bookmark-recovery/index.es.html">
<meta property="og:site_name" content="rongjiecomputer.github.io">
<meta property="og:description" content="Herramienta para recuperar tus marcadores de Chrome perdidos">
<meta property="og:image" content="https://rongjiecomputer.github.io/chrome/bookmark-recovery/share.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Herramienta de recuperación de marcadores de Chrome">
<meta name="twitter:url" content="https://rongjiecomputer.github.io/chrome/bookmark-recovery/index.es.html">
<meta name="twitter:description" content="Herramienta para recuperar tus marcadores de Chrome perdidos">
<meta name="twitter:image" content="https://rongjiecomputer.github.io/chrome/bookmark-recovery/share.png">
<style>
html, body {
	font-family: "Helvetica", Arial, sans-serif;
	font-size: 14px;
	background-color: #fff;
	margin: 0;
	padding: 0;
}
header {
	background-color: #f5f5f5;
	padding: 10px 30px 10px 30px;
	border-bottom: 1px solid #e5e5e5;
}
h1 {
	font-size: 32px;
	font-weight: 400;
}
a {
	color: #4285f4;
	text-decoration: none;
}
a:hover {
	text-decoration: underline;
}
.github-link {
	display: block;
	position: absolute;
	width: 60px;
	height: 60px;
	top: 0;
	right: 0;
	z-index: 100;
}
main {
	padding: 30px;
}
p, li {
	line-height: 1.5em;
	word-break: break-word;
}
#tabs {
	height: 48px;
	margin-bottom: 32px;
	padding: 0;
	overflow: hidden;
	border-bottom: 1px solid #e0e0e0;
}
#tabs a {
	display: inline-block;
	float: left;
	color: #9e9e9e;
	font-weight: 500;
	line-height: 47px;
	text-transform: uppercase;
	padding: 0 10px;
	text-decoration: none;
}
#tabs .active {
	color: #4285f4;
	border-bottom: 2px solid #4285f4;
}
.soln {
	display: none;
}
.show {
	display: block;
}
code {
	font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
	background-color: #f7f7f7;
}
#block {
	max-width: 650px;
	margin-bottom: 30px;
	padding: 10px;
	border: 1px solid #ccc;
}
#drop_zone {
	border: 2px dashed #bbb;
	border-radius: 5px;
	padding: 25px;
	text-align: center;
	color: #bbb;
}
.is_dragover {
	border: 4px dashed #4386fa !important;
	color: #4386fa !important;
}
.is_dragover svg {
	fill: #4386fa;
}
label {
	position: relative;
}
label b {
	color: #000;
}
label:hover b {
	color: #4386fa;
}
input[type="file"] {
	position: absolute;
	width: 100%;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	opacity: 0;
}
#tooltip {
	display: none;
}
#drop_zone svg, #drop_zone span {
	display: block;
	margin: auto;
}
output {
	display: block;
	padding: 25px;
	text-align: center;
}
output b {
	color: red;
}
output ul {
	padding: 0;
	margin: 0;
	list-style-type: none;
	text-align: left;
}
output a {
	color: #555;
	text-decoration: underline;
}
output a[data-disabled] {
 	color: #ccc;
 	text-decoration: line-through;
}
.zip {
	border-top: 1px solid #e0e0e0;
}
.zip-h {
	display: block;
	background-color: #fff;
	color: #4285f4;
	font-size: 14px;
	font-weight: normal;
	padding: 16px 50px 12px 16px;
	margin: 0;
	position: relative;
	z-index: 1;
	width: 100%;
	border: 0;
	text-align: left;
}
.zip-h:hover {
	text-decoration: none;
}
.zip-h:before {
	background: no-repeat url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%234285f4' d='M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z'/%3E%3C/svg%3E");
	background-size: 24px;
	content: '';
	margin-top: -12px;
	position: absolute;
	right: 18px;
	top: 50%;
	width: 22px;
	height: 22px;Tool to recover your lost Chrome bookmarks
	transition: transform 0.3s;
}
.zip-content {
	display: none;
	margin-left: 18px;
	padding: 1px 26px 19px 16px;
	position: relative;
}
.zip-content:before {
	background-color: #e0e0e0;
	content: '';
	position: absolute;
	width: 2px;
	height: 100%;
	left: 0;
	top: -19px;
}
.unzip .zip-h:before {
	transform: rotate(-180deg);
}
.unzip .zip-content {
	display: block;
}
footer {
	background-color: #f5f5f5;
	border-top: 1px solid #e5e5e5;
}
footer a {
	display: inline-block;
	padding: 20px 14px;
	color: #999;
}
</style>
</head>
<body>

<header>
	<h1>Herramienta de recuperación de marcadores de Chrome</h1>
</header>

<main>
	<div id="tabs" role="tablist" aria-label="Instructions">
		<a href="#windows" id="windows-tab" role="tab" aria-controls="windows-soln">Windows</a>
		<a href="#mac" id="mac-tab" role="tab" aria-controls="mac-soln">Mac</a>
		<a href="#linux" id="linux-tab" role="tab" aria-controls="linux-soln">Linux</a>
		<a href="#google" id="google-tab" role="tab" aria-controls="google-soln">Servidor de Google</a>
	</div>
	<div class="soln" id="windows-soln" role="tabpanel" aria-labelledby="windows-tab" aria-hidden="true" tabindex="0">
		<p>Sigue estos pasos para recuperar tus marcadores perdidos (Windows):</p>
		<ol>
			<li>Abre el explorador de Windows y navega al directorio <code>C:\Users\%username%\AppData\Local\Google\Chrome\User Data</code> (copia y pega esa dirección en la barra superior).</li>
			<li>En la barra de búsqueda, escribe <code>Bookmarks</code>, verás una lista de ficheros llamados <code>Bookmarks</code> y/o <code>Bookmarks.bak</code>. (<i>Nota: Si tienes más de un usuario en Chrome, los marcadores de los otros usuarios también saldrán en la lista</i>)</li>
			<li>Selecciona todos los archivos con tu ratón y arrástralos al bloque de aquí abajo.</li>
			<li>Descarga todos los ficheros HTML que generará esta página web automáticamente.</li>
			<li>Abre cada archivo HTML con Chrome y determina cuál es el archivo que contiene tus marcadores. (<i>Nota: lo más probable es que el fichero más grande sea el correcto, de todas formas siempre puedes intentar importarlos uno a uno hasta dar con el correcto</i>)</li>
			<li>En Chrome, abre el menú de Chrome y ve a Marcadores &gt; Administrador de marcadores.</li>
			<li>Haz clic en el menú que hay al lado de la barra de búsqueda y haz clic en "Importar marcadores".</li>
			<li>Selecciona el archivo HTML que contiene tus marcadores.</li>
			<li>Tus marcadores se deberían haber importado ahora a Chrome en una carpeta nueva en la barra de marcadores.</li>
		</ol>
	</div>
	<div class="soln" id="mac-soln" role="tabpanel" aria-labelledby="mac-tab" aria-hidden="true" tabindex="0">
		<p>Sigue estos pasos para recuperar tus marcadores perdidos (Mac):</p>
		<ol>
			<li>En el menú del Mac de arriba del todo de la pantalla, haz clic en Ir.</li>
			<li>Selecciona Ir a la carpeta.</li>
			<li>Escribe <code>~/Library/Application Support/Google/Chrome</code> y haz clic en Ir.</li>
			<li>En la barra de búsqueda escribe <code>Bookmarks</code> (asegúrate de seleccionar que busque en la carpeta Chrome), verás una lista de archivos llamados <code>Bookmarks</code> y/o <code>Bookmarks.bak</code>. (<i>Nota: Si tienes más de un usuario en Chrome, los marcadores de los otros usuarios también saldrán en la lista</i>)</li>
			<li>Selecciona todos los archivos con tu ratón y arrástralos al bloque de aquí abajo.</li>
			<li>Descarga todos los ficheros HTML que generará esta página web automáticamente.</li>
			<li>Abre cada archivo HTML con Chrome y determina cuál es el archivo que contiene tus marcadores. (<i>Nota: lo más probable es que el fichero más grande sea el correcto, de todas formas siempre puedes intentar importarlos uno a uno hasta dar con el correcto</i>)</li>
			<li>En Chrome, abre el menú de Chrome y ve a Marcadores &gt; Administrador de marcadores.</li>
			<li>Haz clic en el menú que hay al lado de la barra de búsqueda y haz clic en "Importar marcadores".</li>
			<li>Selecciona el archivo HTML que contiene tus marcadores.</li>
			<li>Tus marcadores se deberían haber importado ahora a Chrome en una carpeta nueva en la barra de marcadores.</li>
		</ol>
	</div>
	<div class="soln" id="linux-soln" role="tabpanel" aria-labelledby="linux-tab" aria-hidden="true" tabindex="0">
		<p>Sigue estos pasos para recuperar tus marcadores perdidos (Linux):</p>
		<ol>
			<li>Abre tu explorador de archivos (<i>Nautilus, Dolphin ...</i>).</li>
			<li>Ve a <code>~/.config/google-chrome</code> (<i>usa Ctrl+L en Nautilus</i>).</li>
			<li>Busca <code>Bookmarks*</code>; verás una lista de archivos llamados <code>Bookmarks</code> y/o <code>Bookmarks.bak</code>. (<i>Nota: Si tienes más de un usuario en Chrome, los marcadores de los otros usuarios también saldrán en la lista</i>)</li>
			<li>Selecciona todos los archivos con tu ratón y arrástralos al bloque de aquí abajo.</li>
			<li>Descarga todos los ficheros HTML que generará esta página web automáticamente.</li>
			<li>Abre cada archivo HTML con Chrome y determina cuál es el archivo que contiene tus marcadores. (<i>Nota: lo más probable es que el fichero más grande sea el correcto, de todas formas siempre puedes intentar importarlos uno a uno hasta dar con el correcto</i>)</li>
			<li>En Chrome, abre el menú de Chrome y ve a Marcadores &gt; Administrador de marcadores.</li>
			<li>Haz clic en el menú que hay al lado de la barra de búsqueda y haz clic en "Importar marcadores".</li>
			<li>Selecciona el archivo HTML que contiene tus marcadores.</li>
			<li>Tus marcadores se deberían haber importado ahora a Chrome en una carpeta nueva en la barra de marcadores.</li>
		</ol>
	</div>
	<div class="soln" id="google-soln" role="tabpanel" aria-labelledby="google-tab" aria-hidden="true" tabindex="0">
		<p>Si estás seguro que en los datos de la sincronización de Chrome que hay en los servidores de Google todavía están tus marcadores, puedes seguir los siguientes pasos para recuperarlos del servidor de Google:</p>
		<ol>
			<li>Ve a <a href="https://takeout.google.com/settings/takeout" target="_blank">Google Takeout</a> e inicia sesión con la cuenta de Google que usas para la sincronización de Chrome.</li>
			<li>Haz clic en el botón "Desmarcar todo".</li>
			<li>Activa el producto "Chrome" en el listado.</li>
			<li>Haz clic en el botón "Se han incluido todos los datos de Chrome".</li>
			<li>En la ventana emergente, activa solo la opción "Bookmarks" y desactiva el resto.</li>
			<li>Haz clic en "Aceptar" y ve hasta el final de la página para hacer clic en el botón "Siguiente paso".</li>
			<li>Haz clic en el botón "Programar otra exportación".</li>
			<li>Descarga y descomprime el archivo ZIP que se exportará.</li>
			<li>En la carpeta descomprimida, navega a la carpeta "Chrome". El archivo HTML llamado "Bookmarks" es el que necesitamos.</li>
			<li>En Chrome, abre el menú de Chrome y ve a Marcadores &gt; Administrador de marcadores.</li>
			<li>Haz clic en el menú que hay al lado de la barra de búsqueda y haz clic en "Importar marcadores".</li>
			<li>Selecciona el archivo HTML que contiene tus marcadores.</li>
			<li>Tus marcadores se deberían haber importado ahora a Chrome en una carpeta nueva en la barra de marcadores.</li>
		</ol>
	</div>
	<form id="block" tabindex="-1">
		<div id="drop_zone">
			<svg aria-hidden="true" fill="#bbb" width="48" height="48" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
				<path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/>
			</svg>
			<label>
				<input tabindex="0" type="file" multiple id="input" aria-describedby="tooltip"/>
				<b>Selecciona un archivo</b> o arrástralo aquí
			</label>
			<div role="tooltip" id="tooltip">Busca "Bookmarks" en la carpeta de datos de Chrome y selecciona todos los archivos que encuentres.</div>
		</div>
		<output id="output" role="alert" aria-live="assertive" aria-hidden="true">El fichero HTML se producirá aquí más tarde.</output>
	</form>
	<h3>Otras maneras de recuperar marcadores</h3>
	<div class="zip">
		<button id="zip-h-2" class="zip-h" aria-expanded="false" aria-controls="zip-2">Copia de seguridad personal</button>
		<div id="zip-2" role="region" aria-labelledby="zip-h-2" aria-hidden="true" class="zip-content">
			<p>En el caso de que dispongas de copias de seguridad de tu ordenador, encuentra los archivos de los marcadores que haya en las copias de seguridad, súbelas a este herramienta y continúa con los pasos de arriba.</p>
		</div>
	</div>
	<div class="zip">
		<button id="zip-h-3" class="zip-h" aria-expanded="false" aria-controls="zip-3">Recuperarlos desde un dispositivo viejo</button>
		<div id="zip-3" role="region" aria-labelledby="zip-h-3" aria-hidden="true" class="zip-content">
			<p>¿Tienes un dispositivo (por ejemplo un portátil antiguo) donde has iniciado sesión en Chrome con tu cuenta de Google y todavía no se ha sincronizado desde el momento en que perdiste tus marcadores? Si es así, encuentra los archivos de los marcadores en ese dispositivo, súbelos a esta herramienta y sigue con los pasos de arriba.</p>
		</div>
	</div>
	<div class="zip">
		<button id="zip-h-4" class="zip-h" aria-expanded="false" aria-controls="zip-4">Consejos y trucos</button>
		<div id="zip-4" role="region" aria-labelledby="zip-h-4" aria-hidden="true" class="zip-content">
			<p>Puedes usar esta herramienta o la función <i>Exportar marcadores</i> del administrador de marcadores para generar archivos HTML que se pueden usar como copias de seguridad de tus marcadores. Hacer copias de seguridad regulares puede llegar a ser útil en el caso que vuelvas a perder tus marcadores en el futuro.</p>
		</div>
	</div>
	<p><i>Aviso: esta herramienta no es un producto oficial de Google.</i></p>
</main>

<footer>
	<a href="https://support.google.com/chrome/">Centro de ayuda de Chrome</a>
	<a href="https://support.google.com/chrome/community/?hl=es">Foro de ayuda de Chrome</a>
</footer>

<a class="github-link" href="https://github.com/rongjiecomputer/chrome/tree/gh-pages/bookmark-recovery" title="Código fuente en Github">
	<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 60.5 60.5" width="60" height="60">
		<polygon fill="#9dacb3" points="60.5,60.5 0,0 60.5,0"/>
		<path fill="#f5f5f5" d="M43.1,5.8c-6.6,0-12,5.4-12,12c0,5.3,3.4,9.8,8.2,11.4c0.6,0.1,0.8-0.3,0.8-0.6c0-0.3,0-1,0-2c-3.3,0.7-4-1.6-4-1.6c-0.5-1.4-1.3-1.8-1.3-1.8c-1.1-0.7,0.1-0.7,0.1-0.7c1.2,0.1,1.8,1.2,1.8,1.2c1.1,1.8,2.8,1.3,3.5,1c0.1-0.8,0.4-1.3,0.8-1.6c-2.7-0.3-5.5-1.3-5.5-5.9c0-1.3,0.5-2.4,1.2-3.2c-0.1-0.3-0.5-1.5,0.1-3.2c0,0,1-0.3,3.3,1.2c1-0.3,2-0.4,3-0.4c1,0,2,0.1,3,0.4c2.3-1.6,3.3-1.2,3.3-1.2c0.7,1.7,0.2,2.9,0.1,3.2c0.8,0.8,1.2,1.9,1.2,3.2c0,4.6-2.8,5.6-5.5,5.9c0.4,0.4,0.8,1.1,0.8,2.2c0,1.6,0,2.9,0,3.3c0,0.3,0.2,0.7,0.8,0.6c4.8-1.6,8.2-6.1,8.2-11.4C55.1,11.2,49.7,5.8,43.1,5.8z"/>
	</svg>
</a>

<script>
'use strict';
(function() {
var $ = document.querySelector.bind(document);
function Bookmark(raw) {
	this.tree = JSON.parse(raw);
	this.html = '';
	this.count = 0;
	this.first = true;
}
function chromeTime2TimeT(time) {
	return Math.floor((time - 11644473600000000) / 1000000);
}
Bookmark.prototype.walk = function(node) {
	if (node.type === 'folder') {
		this.html += '<DT><H3 ADD_DATE="' + chromeTime2TimeT(node.date_added) + '" LAST_MODIFIED="' + chromeTime2TimeT(node.date_modified) + '"';
		if (this.first) {
			this.html += ' PERSONAL_TOOLBAR_FOLDER="true"';
			this.first = false;
		}
		this.html += '>' + node.name + '</H3>\n';
		this.html += '<DL><p>\n'
		node.children.forEach(this.walk.bind(this));
		this.html += '</DL><p>\n';
	} else { // node.type == 'url'
		this.html += '<DT><A HREF="' + node.url + '" ADD_DATE="' + chromeTime2TimeT(node.date_added) + '">' + node.name + '</A>\n';
		this.count++;
	}
}
Bookmark.prototype.parse = function() {
	this.html = '<!DOCTYPE NETSCAPE-Bookmark-file-1><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"><TITLE>Bookmarks</TITLE><H1>Bookmarks</H1>\n';
	this.html += '<DL><p>\n';
	var roots = this.tree.roots;
	this.walk(roots.bookmark_bar);
	if (roots.other.children.length > 0)
		this.walk(roots.other);
	if (roots.synced.children.length > 0)
		this.walk(roots.synced);
	this.html += '<style>dt, dl { padding-left: 12px; }</style>\n';
}
Bookmark.prototype.newLink = function() {
	var blob = new Blob([this.html], {type: 'text/plain'});
	var a = document.createElement('a');
	a.download = 'bookmark_backup.html';
	a.href = window.URL.createObjectURL(blob);
	a.textContent = 'Descarga lista (' + this.count + ' marcadores encontrados)';
	a.onclick = function(e) {
		if ('disabled' in this.dataset) {
			return false;
		}
		this.textContent = 'Descargado';
		this.dataset.disabled = true;
		setTimeout(function() {
			window.URL.revokeObjectURL(this.href);
		}, 1500);
	};
	return a;
}
function readFile(file) {
	var reader = new FileReader();
	var li = document.createElement('li');
	li.innerHTML = '<strong>Modificado por última vez: ' + (file.lastModifiedDate !== undefined ? file.lastModifiedDate.toLocaleDateString() : 'n/a') + '</strong> (' + file.size + 'B) ';
	reader.onloadend = function() {
		try {
			var bookmark = new Bookmark(reader.result);
			bookmark.parse();
			li.appendChild(bookmark.newLink());
		} catch(e) {
			li.innerHTML += '<b>¡Error! El archivo no es válido. ¡Vuélvelo a intentar!</b>';
		}
	};
	reader.readAsText(file);
	return li;
}
var input = $('#input');
var output = $('#output');
function handleFile(e) {
	var files = e.target.files;
	output.textContent = 'Loading ...';
	var ul = document.createElement('ul');
	for (var i = 0; i < files.length; i++) {
		ul.appendChild(readFile(files[i]));
	}
	output.innerHTML = '';
	output.setAttribute('aria-hidden', false);
	output.appendChild(ul);
}
input.addEventListener('change', handleFile, false);
function handleFileSelect(e) {
	e.stopPropagation();
	e.preventDefault();
	var files = e.dataTransfer.files;
	output.textContent = 'Loading ...';
	var ul = document.createElement('ul');
	for (var i = 0; i < files.length; i++) {
		ul.appendChild(readFile(files[i]));
	}
	output.innerHTML = '';
	output.appendChild(ul);
	this.classList.remove('is_dragover');
}
function handleDragOver(e) {
	e.stopPropagation();
	e.preventDefault();
	e.dataTransfer.dropEffect = 'copy';
	this.classList.add('is_dragover');
}
function handleDragLeave(e) {
	e.stopPropagation();
	e.preventDefault();
	this.classList.remove('is_dragover');
}
var dropZone = document.getElementById('drop_zone');
dropZone.addEventListener('dragover', handleDragOver, false);
dropZone.addEventListener('drop', handleFileSelect, false);
dropZone.addEventListener('dragleave', handleDragLeave, false);
var solns = ["#windows", "#mac", "#linux", "#google"];
function handleHashChange(e) {
	var hash = location.hash;
	for (var i = 0; i < solns.length; i++) {
		var id = solns[i];
		var tab = $(id + '-tab');
		var soln = $(id + '-soln');
		var visible;
		if (hash === id) {
			tab.classList.add('active');
			soln.classList.add('show');
			visible = true;
		} else {
			tab.classList.remove('active');
			soln.classList.remove('show');
			visible = false;
		}
		tab.setAttribute('aria-selected', visible);
		soln.setAttribute('aria-hidden', !visible);
	}
}
window.addEventListener('hashchange', handleHashChange, false);
if (location.hash == '') location.hash = '#windows';
handleHashChange();
function toggleZip(e) {
	var visible = this.parentNode.classList.toggle('unzip');
	this.setAttribute('aria-expanded', visible);
	this.nextElementSibling.setAttribute('aria-hidden', !visible);
}
var zipH = document.querySelectorAll('.zip-h');
for (var i = 0; i < zipH.length; i++) {
	zipH[i].addEventListener('click', toggleZip, false);
}
}());
</script>
</body>
</html>
